**网站开发前后端接口规范**

# **说明**

为了方便前后台数据对接   

我们统一使用一套格式,做一个格式约定.方便我们查找具体问题.

防止我们接口整的不统一弄的乱七八糟自己都不道是哪个变量

# **数据接口返回数据要求**

后台要求:都使用 [http://git.zzqss.cn:3000](http://git.zzqss.cn:3000) 接口文档说明程序 这是一套专门的 api规范编写程序

## **接口网站地址**

[http://git.zzqss.cn:3000](http://git.zzqss.cn:3000)   分配好组 添加好成员 你们就可以直接开始写接口了

## **后台返回参数统 一 一 下json 的格式**

1.  返回一定是json格式的数据

2.  返回的json格式要求一下

## **必须要有这么几个参数 key值统一都用小写不要出现大小写**

### **status   msg   data  parameter**

status 是当前接口执行后的状态

msg   对状态的一个描述信息

data   如果需要给前端返回数据将 数据整理成一个数组放在data中

parameter  接口传递过来的参数是什么将其直接放入这里就好

# **后台程序输出json前数组格式**

array(

"status"=>1,

"msg"=>"接口处理结果描述",

"data"=>array("username"=>"username","age"=>23,"nickname"=>"昵称"),

"parameter"=>array("name"=>"username",pwd=>"密码")

);

# **json格式**

{

"status": 1,

"msg": "接口处理成功",

"data": {

"username": "username",

"age": 23,

"nickname": "incididunt aute"

},

"parameter": {

"name": "username",

"pwd": "123456"

}

}



-------------------------------------------
**项目开发规范**

# **1.固定变量**

a. 汇率   rate

b. 货币符号     symbol

c. 语言标识    lang_sign

d. 网站协议  tcp

e. 网站端口  tcp_port

f. 网站域名   webname

g. 国旗    flag

h. 国家    country  

i. elseif  尽量少写   对 if{}elseif{} 的一点小建议  建议  写成  if(){}else if(){}

# **2.变量命名**

## a. **普通变量 (变量名称达到望文生义的效果)**

a) 所有变量只准许英文单词,

i. 多单词时可以使用驼峰命名法但是首字母要小写

ii. 也可以使用下划线分割单词

b) 英文单词 尽量不要简写, 即使简写也要让大家能 翻译出该单词的汉语意思

c) 变量禁止出现 下划线开头和结尾

d) 变量尽量少使用 一些可能是 php函数或者自定义函数的名称

i. 例如 尽量不要使用  sucess   error array 直接做变量

e) 变量名称尽量不使用缩写,  可以使用一些 常用通用的 公认的缩写

i. 例:

a. $receive_html='404'

ii. 反例:

a. teaName='Mr.wang'  不推荐使用

b. teacherName='Mr.wang' 推荐

## b. **常量**  

a. 常量名要达到望文生义的效果

b. 常量中只能出现大写字母和下划线,杜绝出现数字

c. _ 只用来作连接作用 ,不出现在变量名开头和结尾

# **3.类名**

类名过个单词组成时 建议使用 下划线分割

首字母大写  其他均小写  不推荐使用数字

## **a.成员变量**

### a) **成员变量和属性 指对象中**

#### 1) **成员属性**

a) 成员属性  和 普通变量 一个要求,建议使用驼峰命名法 首字母小写

#### 2) **成员变量 (对象方法)**

b) 成员变量  对外可以直接使用url 访问的控制器下成员 均使用小写

c) 成员变量  如果只是对象内相互调用  建议使用驼峰命名法,单个单词就不用考虑那么多了小写就ok

##### **3)成员参数**

d) 参数名称  尽量都是用小写单词, 多个单词使用下划线分割,简单的单词 可以直接拼在一起  例如: usermsg   username   userpassword  userpwd 都可以

e) 参数名称中 尽量不要使用数字 开头和结尾尽量不要使用下划线_

##### **4)方法函数**

a)   建议使用小写英文单词  多个单词使用下滑线分割

## **b.方法名**

更新方法尽量 使用 update 或 set 前缀

删除方法使用 remove 或者 delete 或 del 前缀   

插入方法使用 save 或者 insert 前缀

获取单个数据方法使用 get 前缀

获取多个数据方法使用 list 前缀

统计方法使用 count 前缀

判断方法使用 is 前缀

# **4.书写规范**

## 1. **代码缩进**

a. 统一 一定要使用 tab 尽量不要使用空格键

## **2.代码标记**

php 代码标记 <?php 文件开始    文件结尾处统一省略去?>标记

## **3.代码分行**

一定注意,  一个:结束就是一行,一行如果很长很长,建议分行折行代码

折行点往往出现在：

方法调用符号 -> 之前

连接符 . 之前

逗号 , 之后

左大括号 { 之后

左方括号 [ 之后

避免换行的点：

括号之前

左大括号 { 之前

左方括号 [ 之前

折行后除了第一行之外，其他行都需要缩进4字符

# **4.代码注释**

1. 建议在  类或文件  或对应一些方法前面写上简单注释说明  让后面使用的人知道这个是做什么用的

2. 注释使用   建议 代码片段 使用  /****.....***/去注释

3. 使用  // 来进行单行注释

4. 有能力建议在一些主要的地方加上注释

5. 除了 //   /***/  严禁出现其他格式注释

# **5.Model  使用及数据表的一些要求**

model 一般是用来做一些 复杂 重复性 操作的类

建议对一些 复杂的 多次使用的 方法 封装成单独类

数据库操作类  尽量一个表一个Model类, 对数据的操作尽量在 Model类中进行

1. 数据表发生调整时请及时更新到 后台网站 sql.sql文件中

2. 字段一定做好备注

3. 建表规约

a. 创建数据库表名称  有字母 下划线  组成

b. 表名称 全部使用小写字母   多个单词使用下划线分割

c. 禁用 保留字和关键词命名  不要使用 php mysql 的函数名称

d. 创建表 建议基础字段

i. id 主键

ii. name  名称

iii. updatetime   强制使用 timestamp 默认 CURRENT_TIMESTAMP

iv. addtime  建议使用 datetime/timestamp/varchar(80)

v. status  状态  规定 0统一为删除了的数据,1是正常

vi. rand    排序用

e. 表类型 建议使用 MyISAM类型

i. 仅仅在出现要使用事务的表 使用InnoDB

f. 索引创建  

i. 对于高频繁 查询的字段建议创建索引

ii. 对于固定多字段联合查询 建议单独创建索引字段

g. 存储的字段要求 字段两端不要出现空格或空字符,可以提前使用trim()将两端空白字符清理掉

g. 查询数据,禁止全表查询,除非确认该表数据量不会有大的变化.

i. 例如:good表禁止使用全表查询,统计方面可以使用相应的统计sql

ii. 如果 是分类表  因为一个网站分类一般都是固定的,所有可以做全表查询,但是做好数据缓存

# **6.接口返回参数 和 请求参数 要求**

## **接口返回参数要求基础返回**

status 状态  (强制要求 必须要有)

msg  简单的一个描述信息  (强制要求 必须要有)

data   对于返回数据尽量放入该字段下